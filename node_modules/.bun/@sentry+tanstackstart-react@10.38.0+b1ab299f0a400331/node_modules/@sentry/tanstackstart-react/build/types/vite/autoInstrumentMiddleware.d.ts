import type { Plugin } from 'vite';
type AutoInstrumentMiddlewareOptions = {
    enabled?: boolean;
    debug?: boolean;
};
type WrapResult = {
    code: string;
    didWrap: boolean;
    skipped: string[];
};
/**
 * Wraps global middleware arrays (requestMiddleware, functionMiddleware) in createStart() files.
 */
export declare function wrapGlobalMiddleware(code: string, id: string, debug: boolean): WrapResult;
/**
 * Wraps route middleware arrays in createFileRoute() files.
 */
export declare function wrapRouteMiddleware(code: string, id: string, debug: boolean): WrapResult;
/**
 * A Vite plugin that automatically instruments TanStack Start middlewares:
 * - `requestMiddleware` and `functionMiddleware` arrays in `createStart()`
 * - `middleware` arrays in `createFileRoute()` route definitions
 */
export declare function makeAutoInstrumentMiddlewarePlugin(options?: AutoInstrumentMiddlewareOptions): Plugin;
/**
 * Convert array contents to object shorthand syntax.
 * e.g., "foo, bar, baz" â†’ "{ foo, bar, baz }"
 *
 * Returns null if contents contain non-identifier expressions (function calls, etc.)
 * which cannot be converted to object shorthand.
 */
export declare function arrayToObjectShorthand(contents: string): string | null;
/**
 * Adds the wrapMiddlewaresWithSentry import to the code.
 * Handles 'use client' and 'use server' directives by inserting the import after them.
 */
export declare function addSentryImport(code: string): string;
export {};
//# sourceMappingURL=autoInstrumentMiddleware.d.ts.map