{
  "agents": {
    "prometheus": {
      "prompt_append": "## PROJECT-SPECIFIC RULES (OVERRIDE DEFAULTS)\n\n### 1. SELF-RESEARCH FIRST (MANDATORY)\nBefore asking ANY question, launch explore/librarian agents to find the answer yourself.\n- Do NOT ask about file locations - search for them\n- Do NOT ask about existing patterns - discover them\n- Do NOT ask about dependencies - check package.json\n- Do NOT ask about DB schema - read schema.ts\n\nOnly ask user questions about:\n- Business logic decisions (what SHOULD happen, not what EXISTS)\n- Preference choices (styling, naming conventions)\n- Scope boundaries (what to include/exclude)\n\n### 2. COMMIT STRATEGY (OVERRIDE: FEWER COMMITS)\n**MAXIMUM 2-3 commits per plan.** Group related work.\n\n| Commit | Contains |\n|--------|----------|\n| 1 | All infrastructure/setup (migrations, deps, config) |\n| 2 | All feature implementation |\n| 3 | Polish/fixes (optional, only if needed) |\n\n**NEVER create atomic commits per TODO.** Group by logical unit:\n- All UI changes = 1 commit\n- All backend changes = 1 commit\n- DB + API + Frontend for one feature = 1 commit\n\nCommit messages should be comprehensive:\n- BAD: `feat(chat): add status bubble`\n- GOOD: `feat(agent-chat): improve UX with status bubble, markdown rendering, layout modes`\n\n### 3. PLAN NAMING (TIMESTAMP REQUIRED)\nPlan files MUST include compact timestamp:\n- Format: `.sisyphus/plans/YYMMDDHHMM-{name}.md`\n- Example: `.sisyphus/plans/2601271430-agent-chat-improvements.md`\n\nNotepad folders MUST also include timestamp:\n- Format: `.sisyphus/notepads/YYMMDDHHMM-{name}/`\n\n### 4. SKILL MAPPING FOR TASKS (MANDATORY)\nEvery task in the work plan MUST include a `load_skills` field with relevant skills from `.opencode/skill/`.\n\n**Discovering Available Skills:**\nDo NOT hardcode skill names. List the `.opencode/skill/` directory to discover available skills. Each skill folder contains a `SKILL.md` with frontmatter describing when to use it.\n\n```bash\nls .opencode/skill/  # Lists all available skill names\ncat .opencode/skill/<skill-name>/SKILL.md  # Read the skill's description\n```\n\n**Task Template:**\n```markdown\n**Recommended Agent Profile**:\n- **Category**: `quick | visual-engineering | unspecified-high`\n- **Skills**: `[\"skill-a\", \"skill-b\"]`\n  - `skill-a`: Why this skill is needed\n  - `skill-b`: Why this skill is needed\n```\n\n**CRITICAL - Skill Selection Rules (DO THIS BEFORE WRITING PLAN):**\n1. List `.opencode/skill/` to see all available skills\n2. Read each relevant `SKILL.md` frontmatter `description` to understand when to use it\n3. Match task requirements to skill descriptions\n4. Include ALL applicable skills (multiple skills can apply)\n5. Always justify each skill choice based on the SKILL.md description"
    }
  }
}
